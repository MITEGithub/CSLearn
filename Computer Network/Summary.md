**网络两大重要内容**

+ 转发
+ 标识

**网路是建立数据链接的一种形式**

> **最朴素的网路链接可能出现的问题** ：正常的n个节点如果使用一对一的链接形式，需要*n((n-1)/2* 条线路

+ hub (集线器)  **进行广播-->带宽的利用率低，一次只有一个信号发送，链路的利用率低**

	+ 广播时可能附带有标识信息，非对应标示的节点会抛弃广播信息，对应标识节点不会

  > 如果有多个信号同时进行传输，使用CSMA/CD协议，（载波帧听），判断是否有信号正在传输
  + 适用于小规模网路， 链接一般只是用双绞线
  + 物理层
  

![](/home/morning/Desktop/ComputerLearning/Picture/2024-01-24_20-26.png)

+ sw (交换机)
   + 记录地址 --> mac 地址 （交换机上对应的物理的端口）「一般是6个“-3C-”这样的8bit的的编码构成的」「通常出厂全球唯一标识，但是可以修改的」mac地址和交换机上的端口是一一对应的，会通过一次次的发送信息建立起一张表 （当找不到对应的端口时广播，然后加入表中，后面就只需要查表了）
   
   + 发送的信息（数据包）
     ![](/home/morning/Desktop/ComputerLearning/Picture/2024-01-24_20-50.png)
   
   + 使用的是8根的网线，是全双工的（同一个节点可以同时进行上传和下载数据）
   
   + 数据链路层
   
   + 通常使用了桥接技术，进行交换机的拓展
   
     ![](/home/morning/Desktop/ComputerLearning/Picture/2024-01-24_20-52.png)

**在局域网设计中，sw 完美的覆盖了hub**



## 但是在大型的网络设计中，sw还是容易发生信息洪流！！！

### IP

> IP 可以在一个局域网中标识一个设备（叫对内IP），也可以表示一整个局域网(在路由器上的IP,对外IP)

+ 路由器 （网关）「跨在两个局域网之间的设备」

  ![](/home/morning/Desktop/ComputerLearning/Picture/2024-01-24_21-50.png)

  + 路由器本身也可以看成是一个节点，通常安装linux系统

  + 网路层

  + 局部网路的传输，比如一某个路由器搭建起的网络中A的对内IP为192.168.0.102,这个局域网的IP「也就是在路由器上的IP,对外IP」是192.168.0.1, B对内192.168.1.254, 对外192.168.1.52,那么数据从192.168.1.52传输到192.168.1.254时会通过IP找到对应的mac地址，然后像上面一样进行传输  「这个叫ARP协议」 

    | source and destination (总体)  | source and destination (IP) | source and destination (mac) |
    | :----------------------------: | :-------------------------: | :--------------------------: |
    |          0.102-->0.1           |            不变             |       mac 0.102-->0.1        |
    | 0.1-->1.52(这个发生在路由器上) |            不变             |        mac 0.1-->1.52        |
    |          1.52-->1.254          |            不变             |       mac 1.52-->1.254       |

    ​                                                      

  + 数据包 (嵌套的，每一个传输头都是包含着source and destination)

    ![](/home/mite/Desktop/ComputerLearning/Picture/2024-01-24_21-59.png)
